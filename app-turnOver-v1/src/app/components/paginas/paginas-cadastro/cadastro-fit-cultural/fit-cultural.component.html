<div class="container-fluid min-vh-100 py-4 px-md-5 m-2">
  <h2 class="fs-2 fw-bold text-dark"><fa-icon [icon]="faHandshake" class="fs-1 text-primary me-2" />Avaliação
    de Fit Cultural</h2>
  <p class="text-secondary">Avalie o alinhamento cultural dos candidatos</p>
  <div class="w-100">
    <ng-container>
      <form (ngSubmit)="salvarFitCultural()" class="d-grid gap-4">
        <div class="card shadow-lg border-0 bg-white">
          <div class="card-header text-white rounded-top"
            style="background: linear-gradient(135deg, #2b2d42 0%, #1a1c2e 100%);">
            <h4 class="card-title d-flex align-items-center gap-2 mb-1">

              <i class="bi bi-person" style="font-size: 1.25rem;"></i>
              Informações da Entrevista
            </h4>
          </div>
        </div>
        <div class="card-body p-4 bg-white">
          <div class="row g-3">
            <div class="col-12 col-md-8">
              <label for="nome" class="form-label d-flex align-items-center gap-2 text-sm fw-medium text-secondary">

                <i class="bi bi-person" style="font-size: 1rem; color: #2b2d42;"></i>
                Nome do Candidato *
              </label>
              <input id="nome" type="text" class="form-control mt-1 border-2" [ngStyle]="{'border-color': '#2b2d42'}"
                [(ngModel)]="fitCultural.nome" name="nome" placeholder="Digite o nome completo do candidato" required />
            </div>
            <div class="col-12 col-md-4">
              <label for="dataEntrevista"
                class="form-label d-flex align-items-center gap-2 text-sm fw-medium text-secondary">

                <i class="bi bi-calendar-day" style="font-size: 1rem; color: #2b2d42;"></i>
                Data da Entrevista
              </label>
              <input id="data" type="date" class="form-control mt-1 border-2" [ngStyle]="{'border-color': '#2b2d42'}"
                [(ngModel)]="fitCultural.data" name="data" />
            </div>
          </div>
        </div>


        <div class="card shadow-lg border-0 bg-white">
          <div class="card-header text-white rounded-top"
            style="background: linear-gradient(135deg, #2b2d42 0%, #1a1c2e 100%);">
            <div class="d-flex justify-content-between align-items-start">
              <div>
                <h5 class="card-title mb-0">Critérios de Avaliação</h5>
                <p class="card-text text-light-emphasis">Marque os critérios que o candidato atende</p>

              </div>
              <div class="d-flex align-items-center gap-2">

                <!-- Exemplo de como exibir a porcentagem em tempo real -->
                <div class="text-end" style="min-width: 200px;">
                  <div class="d-flex align-items-center gap-2 mb-2 justify-content-end">
                    <i class="bi bi-graph-up" style="font-size: 1rem; color: white;"></i>
                    <span class="text-sm fw-medium text-white">Fit Cultural</span>
                  </div>
                  <div class="fs-3 fw-bold text-white mb-1">{{calcularPorcentagemAtual().percentual}}%</div>
                  <div class="text-xs text-light-emphasis mb-2">
                    {{calcularPorcentagemAtual().pontos}} de {{calcularPorcentagemAtual().total}} critérios
                  </div>
                  <div class="progress bg-white bg-opacity-25 rounded-pill" style="height: 8px;">
                    <div class="progress-bar bg-white rounded-pill transition-all duration-300" role="progressbar"
                      [style.width]="calcularPorcentagemAtual().percentual + '%'" aria-valuemin="0" aria-valuemax="100">
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="card-body p-4 bg-white">
            <div class="row g-3">

              <div
                class="flex items-start space-x-3 p-4 border border-secondary rounded-2 hover:bg-gray-50 transition-colors col-md-5 m-3">
                <div class="form-check d-flex align-items-center gap-2">
                  <input id="trabalhoEquipe" type="checkbox" class="form-check-input"
                    [(ngModel)]="fitCultural.trabalhoEquipe" name="trabalhoEquipe" />
                  <label for="trabalhoEquipe" class="form-check-label text-secondary">
                    Trabalho em Equipe
                  </label>
                </div>
              </div>
              <div
                class="flex items-start space-x-3 p-4 border border-secondary rounded-2 hover:bg-gray-50 transition-colors col-md-5 m-3">
                <div class="form-check d-flex align-items-center gap-2">
                  <input id="adaptabilidade" type="checkbox" class="form-check-input"
                    [(ngModel)]="fitCultural.adaptabilidade" name="adaptabilidade" />
                  <label for="adaptabilidade" class="form-check-label text-secondary">
                    Mostra adaptabilidade a mudanças
                  </label>
                </div>
              </div>


              <div
                class="flex items-start space-x-3 p-4 border border-secondary rounded-2 hover:bg-gray-50 transition-colors col-md-5 m-3">
                <div class="form-check d-flex align-items-center gap-2">
                  <input id="comunicativo" type="checkbox" class="form-check-input"
                    [(ngModel)]="fitCultural.comunicativo" name="comunicativo" />
                  <label for="adaptabilidade" class="form-check-label text-secondary">
                    Boa comunicação interpessoal
                  </label>
                </div>
              </div>

              <div
                class="flex items-start space-x-3 p-4 border border-secondary rounded-2 hover:bg-gray-50 transition-colors col-md-5 m-3">
                <div class="form-check d-flex align-items-center gap-2">
                  <input id="iniciativa" type="checkbox" class="form-check-input" [(ngModel)]="fitCultural.iniciativa"
                    name="iniciativa" />
                  <label for="iniciativa" class="form-check-label text-secondary">
                    Proatividade e Iniciativa
                  </label>
                </div>
              </div>

              <div
                class="flex items-start space-x-3 p-4 border border-secondary rounded-2 hover:bg-gray-50 transition-colors col-md-5 m-3">
                <div class="form-check d-flex align-items-center gap-2">
                  <input id="resolucaoComflitos" type="checkbox" class="form-check-input"
                    [(ngModel)]="fitCultural.resolucaoConflitos" name="resolucaoComflitos" />
                  <label for="resolucaoComflitos" class="form-check-label text-secondary">
                    Resolução de Conflitos
                  </label>
                </div>
              </div>

            </div>
          </div>
        </div>

        <div class="card shadow-lg border-0 bg-white">
          <div class="card-header text-white rounded-top"
            style="background: linear-gradient(135deg, #2b2d42 0%, #1a1c2e 100%);">
            <h5 class="card-title mb-0">Observações Adicionais</h5>
            <p class="card-text text-light-emphasis">
              Comentários, justificativas ou detalhes importantes
            </p>
          </div>
          <div class="card-body p-4 bg-white">
            <textarea id="observacoes" class="form-control resize-none border-2" [ngStyle]="{'border-color': '#2b2d42'}"
              [(ngModel)]="fitCultural.descricao" name="observacoes"
              placeholder="Comentários ou justificativas sobre a avaliação..." rows="4"></textarea>
          </div>
        </div>

        <div class="d-flex justify-content-end gap-3 me-2">
          <button [routerLink]="listaDeFitCulturalsUrl" type="button"
            class="btn btn-outline-secondary border-2 hover-bg-light">
            Cancelar
          </button>
          <button type="submit" class="btn text-white shadow-lg px-4" [ngStyle]="{'background-color': '#ef4444'}">
            Salvar Avaliação
          </button>
        </div>
      </form>
    </ng-container>
  </div>
</div>